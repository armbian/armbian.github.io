name: Probe Org Roles
on: workflow_dispatch
jobs:
  probe:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.ORG_INVITE }}
          script: |
            const org = 'armbian';
            const me = await github.request('GET /user');
            core.info(`Token user: ${me.data.login}`);

            const { data } = await github.request('GET /orgs/{org}/organization-roles', { org });
            if (!data.roles) {
              core.info('No roles array in response: ' + JSON.stringify(data, null, 2));
              return;
            }

            for (const r of data.roles) {
              core.info(`${r.id}: ${r.name}`);
            }
